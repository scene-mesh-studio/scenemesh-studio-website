# 故障排除

解决 Studio Module 使用过程中的常见问题。

## 模态框相关问题

### Studio 弹框不显示

**问题**: 点击"打开 Studio"后没有弹框显示

**解决方案**:
1. 检查是否正确配置了 `ModalsProvider`
2. 确保应用根部包含了 `@mantine/modals` 的 Provider

```typescript
import { ModalsProvider } from '@mantine/modals';

// 确保这样包裹应用
<ModalsProvider>
  <YourApp />
</ModalsProvider>
```

### 弹框显示异常

**问题**: Studio 弹框显示不完整或样式错误

**解决方案**:
1. 检查 Mantine CSS 是否正确导入
2. 确保没有全局 CSS 冲突
3. 检查 z-index 层级问题

## 功能相关问题

### 无法保存配置

**问题**: 点击保存后没有响应或报错

**解决方案**:
1. 检查 Entity Engine 实例是否正确传递
2. 确保有足够的权限保存配置
3. 查看浏览器控制台是否有错误信息

### 字段类型选择器为空

**问题**: 添加字段时，字段类型选择器没有选项

**解决方案**:
1. 确保 Entity Engine 正确初始化
2. 检查字段类型定义是否正确注册
3. 刷新页面重新尝试

### 拖拽功能不工作

**问题**: 无法拖拽排序字段

**解决方案**:
1. 检查是否在触屏设备上，可能需要使用长按拖拽
2. 确保没有其他元素阻止拖拽事件
3. 尝试刷新页面

## 性能相关问题

### Studio 打开缓慢

**问题**: 首次打开 Studio 加载时间较长

**解决方案**:
1. 这是正常现象，Studio 首次加载需要初始化组件
2. 后续打开会明显加快
3. 考虑在应用启动时预加载 Studio 组件

### 大量字段时操作卡顿

**问题**: 模型包含大量字段时操作响应慢

**解决方案**:
1. 建议将复杂模型拆分为多个简单模型
2. 使用分页或虚拟滚动（未来版本支持）
3. 减少不必要的字段配置

## 兼容性问题

### 浏览器兼容性

**支持的浏览器**:
- Chrome 88+
- Firefox 84+
- Safari 14+
- Edge 88+

**不支持**:
- Internet Explorer（任何版本）

### React 版本要求

确保使用兼容的 React 版本：
```json
{
  "react": "^19.1.0",
  "react-dom": "^19.1.0"
}
```

## 调试技巧

### 启用调试模式

在浏览器控制台运行：
```javascript
localStorage.setItem('entity-engine-studio-debug', 'true');
```

### 清除缓存数据

如果遇到配置异常，可以清除本地缓存：
```javascript
localStorage.removeItem('entity-engine-studio-cache');
```

### 查看详细错误信息

打开浏览器开发者工具的 Console 面板，查看详细的错误信息和调试日志。

## 获取帮助

如果以上方案无法解决问题：

1. **GitHub Issues**: [提交问题](https://github.com/scene-mesh-studio/entity-engine-studio/issues)
2. **文档**: 查看其他文档页面获取更多信息
3. **社区支持**: 在相关技术论坛搜索或提问